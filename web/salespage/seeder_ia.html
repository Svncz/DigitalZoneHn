<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Seeder IA</title>
</head>

<body>
    <h1>Seeding IA Products...</h1>
    <div id="status">Starting...</div>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: 'AIzaSyC2b9MJwrTxKrlm_9iNMc_ihQfrb0uKAOI',
            appId: '1:656121260272:web:2f047725ff149aaaf57a35',
            messagingSenderId: '656121260272',
            projectId: 'digitalzonehn',
            authDomain: 'digitalzonehn.firebaseapp.com',
            storageBucket: 'digitalzonehn.firebasestorage.app',
            measurementId: 'G-VG2BC64R4G',
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const products = [
            {
                name: "CHATGPT PRO",
                price: 250,
                description: "1 mes de CHATGPT PRO",
                available: true,
                promo: true,
                category: "IA"
            },
            {
                name: "GEMINI PRO",
                price: 250,
                description: "1 mes de Gemini pro + 2tb en Google drive/Google fotos + NANO BANANA + GENERACION DE VIDEOS",
                available: true,
                promo: true,
                category: "IA"
            },
            {
                name: "COPILOT PRO",
                price: 250,
                description: "1 mes de COPILOT PRO",
                available: true,
                promo: true,
                category: "IA"
            },
            {
                name: "N8N",
                price: 100,
                description: "14 dias de N8N con 20 cr√©ditos de trabajo con IA",
                available: true,
                promo: true,
                category: "IA"
            }
        ];

        async function seed() {
            const statusDiv = document.getElementById('status');
            try {
                for (const p of products) {
                    await addDoc(collection(db, 'products'), {
                        ...p,
                        imageUrl: "",
                        createdAt: serverTimestamp()
                    });
                    statusDiv.innerHTML += `<br>Added ${p.category}: ${p.name}`;
                }
                statusDiv.innerHTML += "<br><strong>Done!</strong>";
                document.title = "IA Seeding Complete";
            } catch (e) {
                statusDiv.innerHTML += `<br>Error: ${e.message}`;
                console.error(e);
            }
        }

        seed();
    </script>
</body>

</html>